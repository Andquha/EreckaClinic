{"version":3,"sources":["js/script.js"],"names":["document","addEventListener","form","getElementById","formSend","e","preventDefault","error","formValidate","formData","FormData","classList","add","fetch","method","body","response","ok","json","result","alert","message","reset","remove","formReq","querySelectorAll","index","length","input","formRemoveError","contains","emailTest","formAddError","getAttribute","checked","parentElement"],"mappings":"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","file":"script.d573be0b.js","sourceRoot":"..\\src","sourcesContent":["\"use strict\"\n\ndocument.addEventListener('DOMContentLoaded', function () {\n\tconst form = document.getElementById('form');\n\tform.addEventListener('submit', formSend);\n\n\tasync function formSend(e) {\n\t\te.preventDefault();\n\n\t\tlet error = formValidate(form);\n\n\t\tlet formData = new FormData(form);\n\n\t\tif(error === 0) {\n\t\t\tform.classList.add('_sending');\n\t\t\tlet response = await fetch('sendmail.php', {\n\t\t\t\tmethod: 'POST',\n\t\t\t\tbody: formData\n\t\t\t});\n\t\t\tif (response.ok) {\n\t\t\t\tlet result = await response.json();\n\t\t\t\talert(result.message);\n\t\t\t\tform.reset();\n\t\t\t\tform.classList.remove('_sending');\n\t\t\t} else {\n\t\t\t\talert(\"Ошибка!\");\n\t\t\t\tform.classList.remove('_sending');\n\t\t\t}\n\t\t} else {\n\t\t\talert('Заполните все поля');\n\t\t}\n\n\t}\n\n\n\tfunction formValidate(form) {\n\t\tlet error = 0;\n\t\tlet formReq = document.querySelectorAll('._req');\n\n\t\tfor (let index = 0; index < formReq.length; index++) {\n\t\t\tconst input = formReq[index];\n\t\t\tformRemoveError(input);\n\n\t\t\tif (input.classList.contains('_email')) {\n\t\t\t\tif (emailTest(input)) {\n\t\t\t\t\tformAddError(input);\n\n\t\t\t\t\terror++;\n\t\t\t\t}\n\t\t\t}else if (input.getAttribute(\"type\") === \"checkbox\" && input.checked === false) {\n\t\t\t\tformAddError(input);\n\t\t\t\terror++;\n\t\t\t}\n\t\t}\n\t\treturn error;\n\t}\n\n\tfunction formAddError(input) {\n\t\tinput.parentElement.classList.add('_error');\n\t\tinput.classList.add('_error');\n\t}\n\tfunction formRemoveError(input) {\n\t\tinput.parentElement.classList.remove('_error');\n\t\tinput.classList.remove('_error');\n\t}\n\n\t//Функция теста email\n\tfunction emailTest(input) {\n\t\treturn ;\n\t}\n\n\n});"]}